<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time-Based Rolling Functions • tbrf</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Time-Based Rolling Functions">
<meta property="og:description" content="Provides rolling statistical functions based
    on date and time windows instead of n-lagged observations.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tbrf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/intro_to_tbrf.html">tbrf Introduction</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<p>The goal of tbrf is to provide time-window based rolling statistical functions. The package differs from other rolling statistic packages because the intended use is for irregular measured data. Althogh tbrf can be used to apply statistical functions to regularly sampled data, <a href="https://CRAN.R-project.org/package=zoo"><code>zoo</code></a>, <a href="https://cran.r-project.org/package=RcppRoll"><code>RcppRoll</code></a>, and other packages provide fast, efficient, and rich implementations of rolling/windowed functions.</p>
<p>An appropriate example case is water quality data that is measured at irregular time intervals. Regulatory compliance is often based on a statistical average measure or exceedance probability applied to all samples collected in the previous <span class="math inline">\(n\)</span>-years. For each row of data, tbrf functions select previous observations in the time windows specified by the user and applies the statistical function.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>tbrf is available on CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"tbrf"</span>)</a></code></pre></div>
<p>The development version is maintained on github and can be installed as:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install.github</span>(<span class="st">"mps9506/tbrf"</span>)</a></code></pre></div>
</div>
<div id="available-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#available-functions" class="anchor"></a>Available Functions</h2>
<ul>
<li><p><code>tbr_binom</code>: Rolling binomal probability with confidence intervals.</p></li>
<li><p><code>tbr_gmean</code>: Rolling geometric mean with confidence intervals.</p></li>
<li><p><code>tbr_mean</code>: Rolling mean with confidence intervals.</p></li>
<li><p><code>tbr_median</code>: Rolling median with confidence intervals.</p></li>
<li><p><code>tbr_misc</code>: Accepts user specified function.</p></li>
<li><p><code>tbr_sd</code>: Rolling standard deviation.</p></li>
<li><p><code>tbr_sum</code>: Rolling sum.</p></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Core functions include five arguments:</p>
<pre><code>.tbl = dataframe used by the function

x = column containing the values to calculate the statistic on

tcolumn = formatted date-time or date column

unit = character indicating the time unit used, one of "years", "months", "weeks", "days", "hours", "minutes", "seconds"

n = numeric, indicating the window length</code></pre>
<p>Additional arguments for calculating confidence intervals in <code>tbr_gmean</code>, <code>tbr_mean</code>, and <code>tbr_median</code> are passed to <code>boot</code> and <code>boot.ci</code>.</p>
<div id="basic-example" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-example" class="anchor"></a>Basic Example</h3>
<p>For example, get the 5-year rolling mean:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/tbr_mean.html">tbr_mean</a></span>(Dissolved_Oxygen, <span class="dt">x =</span> Average_DO,</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">         <span class="dt">tcolumn =</span> Date, <span class="dt">unit =</span> <span class="st">"years"</span>, <span class="dt">n =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">## # A tibble: 236 x 9</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">##    Station_ID Date       Param_Code Param_Desc     Average_DO Min_DO  mean</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">##         &lt;int&gt; &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;               &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">##  1      12515 2000-01-03 00300      OXYGEN, DISSO~       6.19   6.19 NA   </a>
<a class="sourceLine" id="cb4-7" data-line-number="7">##  2      12515 2000-03-14 00300      OXYGEN, DISSO~       6.7    6.7   6.73</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">##  3      12517 2000-03-14 00300      OXYGEN, DISSO~       7.3    7.3   6.73</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">##  4      12515 2000-03-16 00300      OXYGEN, DISSO~       6.41   6.41  6.65</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">##  5      12515 2000-05-03 00300      OXYGEN, DISSO~       4.42   4.42  6.20</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">##  6      12517 2000-06-14 00300      OXYGEN, DISSO~       5.74   5.74  6.13</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">##  7      12515 2000-06-15 00300      OXYGEN, DISSO~       4.86   4.86  5.95</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">##  8      12515 2000-07-11 00300      OXYGEN, DISSO~       4.48   4.48  5.76</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">##  9      12515 2000-09-12 00300      OXYGEN, DISSO~       5.64   5.64  5.75</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">## 10      12517 2000-10-17 00300      OXYGEN, DISSO~       7.96   7.96  5.97</a>
<a class="sourceLine" id="cb4-16" data-line-number="16">## # ... with 226 more rows, and 2 more variables: lwr_ci &lt;lgl&gt;, upr_ci &lt;lgl&gt;</a></code></pre></div>
<p>This works in a tidy-workflow as:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggalt) <span class="co">#for stat="stepribbon""</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">Dissolved_Oxygen <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Station_ID =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">as.factor</a></span>(Station_ID)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(Station_ID) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="reference/tbr_mean.html">tbr_mean</a></span>(Average_DO, Date, <span class="st">"years"</span>, <span class="dv">5</span>, <span class="dt">conf =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">"perc"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_step</span>(<span class="kw">aes</span>(Date, mean, <span class="dt">color =</span> Station_ID)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(Date, <span class="dt">ymin =</span> lwr_ci, <span class="dt">ymax =</span> upr_ci, <span class="dt">fill =</span> Station_ID), </a>
<a class="sourceLine" id="cb5-10" data-line-number="10">              <span class="dt">stat =</span> <span class="st">"stepribbon"</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="reference/figures/index-unnamed-chunk-3-1.png" width="700"></p>
</div>
<div id="different-time-units" class="section level3">
<h3 class="hasAnchor">
<a href="#different-time-units" class="anchor"></a>Different Time Units</h3>
<p>tbrf works with times or dates.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">## Generate some sample data</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">sampledata &lt;-<span class="st"> </span><span class="cf">function</span>(N, start,  end) {</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  start &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.POSIXlt">as.POSIXct</a></span>(start, <span class="st">"%Y-%m-%d %H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">""</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  end &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.POSIXlt">as.POSIXct</a></span>(end, <span class="st">"%Y-%m-%d %H:%M:%S"</span>, <span class="dt">tz =</span> <span class="st">""</span>)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  time &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(start, end, <span class="dt">by =</span> <span class="st">"min"</span>), N)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">time =</span> time,</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">                   <span class="dt">y =</span> <span class="dv">-1000</span><span class="op">*</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">log</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Uniform">runif</a></span>(N)))</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(df)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">}</a>
<a class="sourceLine" id="cb6-12" data-line-number="12"></a>
<a class="sourceLine" id="cb6-13" data-line-number="13">df &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(<span class="kw">sampledata</span>(<span class="dv">100</span>, <span class="st">"2017-01-01 00:01:00"</span>, <span class="st">"2017-01-04 23:00:00"</span>),</a>
<a class="sourceLine" id="cb6-14" data-line-number="14">                <span class="kw">sampledata</span>(<span class="dv">100</span>, <span class="st">"2017-01-07 00:01:00"</span>, <span class="st">"2017-01-08 23:00:00"</span>))</a></code></pre></div>
<p>Plot 120-minute geometric means:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(y, time, <span class="dt">unit =</span> <span class="st">"minutes"</span>, <span class="dt">n =</span> <span class="dv">120</span>, <span class="dt">conf =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">"perc"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(time, y), <span class="dt">alpha =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(time, mean)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(time, <span class="dt">ymin =</span> lwr_ci, <span class="dt">ymax =</span> upr_ci), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_y_log10</span>()</a></code></pre></div>
<p><img src="reference/figures/index-unnamed-chunk-5-1.png" width="700"></p>
<p>Plot 24-hour geometric means:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(y, time, <span class="dt">unit =</span> <span class="st">"hours"</span>, <span class="dt">n =</span> <span class="dv">24</span>, <span class="dt">conf =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">"perc"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(time, y), <span class="dt">alpha =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(time, mean)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(time, <span class="dt">ymin =</span> lwr_ci, <span class="dt">ymax =</span> upr_ci), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_y_log10</span>()</a></code></pre></div>
<p><img src="reference/figures/index-unnamed-chunk-6-1.png" width="700"></p>
<p>Plot 4-day geometric means:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(y, time, <span class="dt">unit =</span> <span class="st">"days"</span>, <span class="dt">n =</span> <span class="dv">4</span>, <span class="dt">conf =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">"perc"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(time, y), <span class="dt">alpha =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(time, mean)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(time, <span class="dt">ymin =</span> lwr_ci, <span class="dt">ymax =</span> upr_ci), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_y_log10</span>()</a></code></pre></div>
<p><img src="reference/figures/index-unnamed-chunk-7-1.png" width="700"></p>
</div>
<div id="parallel-processing" class="section level3">
<h3 class="hasAnchor">
<a href="#parallel-processing" class="anchor"></a>Parallel Processing</h3>
<p>Confidence Intervals in <code>tbr_gmean</code>, <code>tbr_mean</code>, and <code>tbr median</code> are calculated using <code>boot::boot_ci</code>. If you do not need confidence intervals, calculation times are substantially shorter. <code>parallel</code>, <code>ncores</code>, and <code>cl</code> arguments are passed to <code>boot</code> and can improve computation times. See <code>?boot</code> for more details on parallel operations. An example for parallel processing in Windows is shown below:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(microbenchmark)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(snow)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">##benchmark run on a windows Intel I7 2.6Ghz dual core laptop</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">cl &lt;-<span class="st"> </span><span class="kw">makeCluster</span>(<span class="dv">2</span>, <span class="dt">type =</span> <span class="st">"SOCK"</span>)</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="kw">microbenchmark</span>(</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">  <span class="st">"noCI"</span> =<span class="st"> </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(Dissolved_Oxygen, Average_DO, Date, </a>
<a class="sourceLine" id="cb10-10" data-line-number="10">         <span class="st">"years"</span>, <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">  <span class="st">"single"</span> =<span class="st"> </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(Dissolved_Oxygen, Average_DO, Date, </a>
<a class="sourceLine" id="cb10-12" data-line-number="12">         <span class="st">"years"</span>, <span class="dv">5</span>, <span class="dt">R =</span> <span class="dv">1000</span>, <span class="dt">conf =</span> <span class="fl">.95</span>,</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">         <span class="dt">type =</span> <span class="st">"perc"</span>),</a>
<a class="sourceLine" id="cb10-14" data-line-number="14">  <span class="st">"parallel"</span> =<span class="st"> </span><span class="kw"><a href="reference/tbr_gmean.html">tbr_gmean</a></span>(Dissolved_Oxygen, Average_DO, Date, </a>
<a class="sourceLine" id="cb10-15" data-line-number="15">         <span class="st">"years"</span>, <span class="dv">5</span>, <span class="dt">R =</span> <span class="dv">1000</span>, <span class="dt">conf =</span> <span class="fl">.95</span>, </a>
<a class="sourceLine" id="cb10-16" data-line-number="16">         <span class="dt">type =</span> <span class="st">"perc"</span>, <span class="dt">parallel =</span> <span class="st">"snow"</span>, </a>
<a class="sourceLine" id="cb10-17" data-line-number="17">         <span class="dt">ncpus =</span> <span class="dv">2</span>, <span class="dt">cl =</span> cl),</a>
<a class="sourceLine" id="cb10-18" data-line-number="18">  <span class="dt">times =</span> <span class="dv">20</span>)</a>
<a class="sourceLine" id="cb10-19" data-line-number="19">## Unit: milliseconds</a>
<a class="sourceLine" id="cb10-20" data-line-number="20">##      expr        min         lq       mean     median         uq</a>
<a class="sourceLine" id="cb10-21" data-line-number="21">##      noCI   356.7044   371.4177   387.9659   379.9838   398.2247</a>
<a class="sourceLine" id="cb10-22" data-line-number="22">##    single 13797.9694 13925.8277 14316.4646 14182.7591 14565.7968</a>
<a class="sourceLine" id="cb10-23" data-line-number="23">##  parallel  8080.2448  8127.0989  8264.8726  8169.2343  8380.8470</a>
<a class="sourceLine" id="cb10-24" data-line-number="24">##         max neval</a>
<a class="sourceLine" id="cb10-25" data-line-number="25">##    476.9167    20</a>
<a class="sourceLine" id="cb10-26" data-line-number="26">##  15259.7203    20</a>
<a class="sourceLine" id="cb10-27" data-line-number="27">##   8778.6763    20</a>
<a class="sourceLine" id="cb10-28" data-line-number="28"></a>
<a class="sourceLine" id="cb10-29" data-line-number="29"><span class="kw">stopCluster</span>(cl)</a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=tbrf">https://​cloud.r-project.org/​package=tbrf</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mps9506/tbrf/issues">https://​github.com/​mps9506/​tbrf/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Schramm <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1876-6592" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=tbrf"><img src="https://www.r-pkg.org/badges/version/tbrf" alt="CRAN version"></a></li>
<li><a href="https://travis-ci.org/mps9506/tbrf"><img src="https://travis-ci.org/mps9506/tbrf.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/mps9506/tbrf"><img src="https://ci.appveyor.com/api/projects/status/github/mps9506/tbrf?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/github/mps9506/tbrf?branch=master"><img src="https://codecov.io/gh/mps9506/tbrf/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael Schramm.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
